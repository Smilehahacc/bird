webpackJsonp([1],{"+uro":function(t,e){},"/csj":function(t,e){},"0YUB":function(t,e,s){t.exports=s.p+"static/img/back.b7d6751.png"},"6SFN":function(t,e){},"8NWH":function(t,e){},CFSk:function(t,e){},DXJi:function(t,e,s){t.exports=s.p+"static/img/portrait.94ca518.png"},Gvnp:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("rVsN"),n=s.n(i),o=s("xd7I"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.isRouterAlive?e("router-view"):this._e()],1)},staticRenderFns:[]};var r=s("C7Lr")({name:"app",provide:function(){return{reload:this.reload}},data:function(){return{isRouterAlive:!0}},components:{},methods:{reload:function(){this.isRouterAlive=!1,this.$nextTick(function(){this.isRouterAlive=!0})}}},a,!1,function(t){s("f6YS")},null,null).exports,c=s("7LQH"),u=s("4YfN"),l=s.n(u),d={name:"login",data:function(){return{userInfor:[],appTitle:"知乎",loginTitle:"登录在线识图",registerTitle:"注册在线识图",smsLogin:"手机号验证登录",forget:"忘记密码？",voice:"接收语音验证码",bottomTips:"没有账号？",bottomTitle:"注册",btntxt:"获取短信验证码",time:0,choiceFlag:!0,displayLogin:"",displayRegister:"none",disabled:!1,name:"",password:"",phone:"",code:"",isLogin:"",userId:""}},methods:{login:function(){var t=this;if(""===this.name)this.$Message.warning("请输入用户名或手机号！");else if(""===this.password)this.$Message.warning("请输入密码！");else{var e={name:this.name,password:this.password};this.$axios.get("/api/login",{params:l()({},e)}).then(function(e){console.log(1),console.log(e),"SUCCESS"===e.data?(t.$Message.success("登录成功！"),t.setCookie("userName",t.name,7),t.getUserId()):t.$Message.error("用户名或密码错误！")}).catch(function(e){console.log(e),t.$Message.error("请求失败！"+e.status+","+e.statusText)})}},getUserId:function(){var t=this;this.$axios.post("/api/findByCondition",{name:this.name}).then(function(e){console.log("获取用户基本信息------------------"),t.userInfor=e.data,t.userId=t.userInfor.user_id,t.setCookie("userId",t.userId,7),t.setCookie("userInfor",t.userInfor,7),console.log("获取用户id："+t.userId)}),setTimeout(function(){t.$store.state.isLogin=!0,t.$store.state.userId=t.userId,t.$store.state.userName=t.name,t.setCookie("isLogin","true",7),t.$router.push("/homepage")},500)},sendSms:function(){var t=this;""===this.phone?this.$Message.error("请输入手机号码！"):/^((13|14|15|17|18)[0-9]{1}\d{8})$/.test(this.phone)?this.$axios.post("/api/sendSms",{phone:this.phone}).then(function(e){console.log(1),console.log(e),"SUCCESS"===e.data?(t.$Message.success("验证码已发送，请注意查收！"),t.time=60,t.disabled=!0,t.timer()):t.$Message.warning("手机号已注册，可直接登录！")}):this.$Message.warning("手机格式不正确！")},timer:function(){this.time>0?(this.time--,this.btntxt=this.time+"s后重新获取",setTimeout(this.timer,1e3)):(this.time=0,this.btntxt="重新获取短信验证码",this.disabled=!1)},register:function(){var t=this;this.$axios.post("/api/registerByPhone",{phone:this.phone,code:this.code}).then(function(e){console.log(1),console.log(e),"SUCCESS"===e.data?t.$Message.success("注册成功！"):t.$Message.warning("注册失败，请检查输入的验证码")}).catch(function(e){console.log(e),t.$Message.error("请求失败！"+e.status+","+e.statusText)})},choice:function(){this.choiceFlag?(this.displayLogin="none",this.displayRegister="",this.bottomTips="已有帐号？",this.bottomTitle="登录"):(this.displayLogin="",this.displayRegister="none",this.bottomTips="没有帐号？",this.bottomTitle="注册"),this.choiceFlag=!this.choiceFlag},setCookie:function(t,e,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var n="expires="+i.toUTCString();console.info(t+"="+e+"; "+n),document.cookie=t+"="+e+"; "+n,console.info(document.cookie)}},created:function(){}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"main"}},[i("div",{attrs:{id:"inputMain"}},[i("div",{staticClass:"login-main",style:{display:t.displayLogin}},[i("img",{staticClass:"title-logo",attrs:{src:s("wiax")}}),t._v(" "),i("p",{staticClass:"tilte-detail"},[t._v(t._s(t.loginTitle))]),t._v(" "),i("div",{attrs:{id:"inputDetail"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input-style",attrs:{type:"text",placeholder:"请输入手机号或用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),i("br"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-style",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),i("br"),t._v(" "),i("Button",{staticClass:"button-left",attrs:{type:"text"}},[t._v(t._s(t.smsLogin))]),t._v(" "),i("Button",{staticClass:"button-right",attrs:{type:"text"}},[t._v(t._s(t.forget))]),t._v(" "),i("Button",{staticClass:"button-log",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)]),t._v(" "),i("div",{staticClass:"register-main",style:{display:t.displayRegister}},[i("img",{staticClass:"title-logo",attrs:{src:s("wiax")}}),t._v(" "),i("p",{staticClass:"tilte-detail"},[t._v(t._s(t.registerTitle))]),t._v(" "),i("div",{attrs:{id:"inputDetail"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"input-style",attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),i("br"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"input-style",attrs:{type:"text",placeholder:"请输入6位短信验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}}),i("br"),t._v(" "),i("Button",{staticClass:"button-sendSms",attrs:{type:"text",disabled:t.disabled},on:{click:t.sendSms}},[t._v(t._s(t.btntxt))]),t._v(" "),i("Button",{staticClass:"button-right",attrs:{type:"text"}},[t._v(t._s(t.voice))]),t._v(" "),i("Button",{staticClass:"button-log",attrs:{type:"primary"},on:{click:t.register}},[t._v("注册")])],1)]),t._v(" "),i("div",{attrs:{id:"bottomMain"}},[i("p",{staticStyle:{"font-size":"14px","text-align":"center",width:"160px",margin:"0 auto","line-height":"60px"}},[t._v(t._s(t.bottomTips)+"\n        "),i("Button",{staticClass:"button-bottom-choice",staticStyle:{"font-size":"14px",outline:"none","text-align":"center",margin:"0 auto",color:"#2b85e4"},attrs:{type:"text"},on:{click:t.choice}},[t._v(t._s(t.bottomTitle))])],1)])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"pageBottom"}},[e("p",[this._v("Copyright©2019 Lynn")])])}]};var h=s("C7Lr")(d,p,!1,function(t){s("/csj")},"data-v-ae16f79a",null).exports,m={name:"forumHead",inject:["reload"],data:function(){return{portraitSrc:"",portraitModifyName:"",portraitModifySrc:"",isLogin:!0,userName:"",userId:"",drawerInformation:!1,drawerTalk:!1,drawerUser:!1,drawerSetting:!1,fansNum:-1,followNum:-1,topicNum:-1,userInfor:[],isModifyShow:!1,nameModify:"",emailModify:"",phoneModify:"",autographModify:""}},methods:{refresh:function(){this.$router.push("/home"),this.reload()},search:function(){var t=this;this.$axios.post("/api/findCollegeIdByName",{collegeName:this.searchText}).then(function(e){console.log("获取校园id进行搜索和页面跳转"),-1!==e.data?(t.reload(),t.$Message.success("搜索成功，正在进入校园..."),t.$store.commit("setCollegeId",e.data),t.$router.push("/collegeDetail")):t.$Message.error("抱歉，没有搜索到该校园！")})},modifyShow:function(){this.isModifyShow=!0,this.nameModify=this.userInfor.infor_name,this.emailModify=this.userInfor.infor_email,this.phoneModify=this.userInfor.infor_phone,this.autographModify=this.userInfor.infor_autograph,this.portraitModifySrc=s("czpq")("./"+this.userInfor.infor_portrait)},modifySuccess:function(){this.isModifyShow=!1,this.userInfor.infor_name=this.nameModify,this.userInfor.infor_email=this.emailModify,this.userInfor.infor_phone=this.phoneModify,this.userInfor.infor_autograph=this.autographModify,this.userInfor.infor_portrait=this.portraitModifySrcName,this.portraitSrc=s("czpq")("./"+this.portraitModifySrcName),this.userName=this.nameModify,this.setCookie("userName",this.userName,7),this.$store.state.userName=this.userName},uploadSuccess:function(t,e,i){this.portraitModifySrcName=e.name,this.portraitModifySrc=s("czpq")("./"+this.portraitModifySrcName)},saveModify:function(){var t=this;this.$axios.post("/api/updateUserInfor",{userId:this.userId,userName:this.nameModify,userEmail:this.emailModify,userPhone:this.phoneModify,userPortrait:this.portraitModifySrcName,userAutograph:this.autographModify}).then(function(e){console.log("修改用户信息"),"SUCCESS"===e.data?(t.$Message.success("用户信息修改成功！"),t.modifySuccess()):t.$Message.error("修改失败！请检查修改的信息（用户名或手机号可能重复）")}).catch(function(e){console.log(e),t.$Message.error("请求失败！"+e.status+","+e.statusText)})},logout:function(){this.clearCookie(),this.$Message.success("退出成功！"),this.isLogin=!1,this.userName="",this.userId="",this.setLoginState(),this.reload()},getLoginState:function(){this.isLogin=this.getCookie("isLogin"),this.userId=this.getCookie("userId"),this.userName=this.getCookie("userName")},setLoginState:function(){this.$store.state.isLogin=this.isLogin,this.$store.state.userId=this.userId,this.$store.state.userName=this.userName},syncUser:function(){var t=this;this.$axios.post("/api/findByCondition",{name:this.userName}).then(function(e){console.log("获取用户基本信息"),t.userInfor=e.data,t.portraitSrc=s("czpq")("./"+t.userInfor.infor_portrait)}),this.$axios.get("/api/getFansNumByCookie",{name:this.userName}).then(function(e){t.fansNum=e.data,console.log("获取粉丝数："+t.fansNum)}),this.$axios.get("/api/getUserNumByCookie",{name:this.userName}).then(function(e){t.followNum=e.data,console.log("获取关注数："+t.followNum)})},setCookie:function(t,e,s){var i=new Date;i.setTime(i.getTime()+24*s*60*60*1e3);var n="expires="+i.toUTCString();console.info(t+"="+e+"; "+n),document.cookie=t+"="+e+"; "+n,console.info(document.cookie)},getCookie:function(t){var e=t+"=",s=document.cookie.split(";");console.log("正在获取cookie...");for(var i=0;i<s.length;i++){var n=s[i];for(console.log(n);" "===n.charAt(0);)n=n.substring(1);if(-1!==n.indexOf(e))return n.substring(e.length,n.length)}return""},clearCookie:function(){this.setCookie("isLogin","",-1),this.setCookie("userId","",-1),this.setCookie("userName","",-1)}},created:function(){this.getLoginState(),this.isLogin&&this.syncUser(),this.isLogin=!0,this.portraitSrc=s("DXJi")}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("BackTop"),t._v(" "),s("div",{staticClass:"head"},[s("div",{staticStyle:{width:"auto"}},[s("a",{staticClass:"head-title",on:{click:t.refresh}},[t._v("在线识图")])]),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"user-bar"},[s("Dropdown",{staticStyle:{"margin-left":"20px","margin-top":"52px"},attrs:{trigger:"hover"}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("Avatar",{staticClass:"user-portrait",attrs:{src:t.portraitSrc}})],1),t._v(" "),s("DropdownMenu",{staticStyle:{"text-align":"center"},attrs:{slot:"list"},slot:"list"},[s("DropdownItem",{style:{display:t.isLogin?"none":""}},[s("router-link",{attrs:{to:"/login"}},[s("a",{staticClass:"menu"},[t._v("登录")])])],1),t._v(" "),s("DropdownItem",{style:{display:t.isLogin?"":"none"}},[s("a",{staticClass:"menu",on:{click:t.user}},[t._v("个人中心")])]),t._v(" "),s("DropdownItem",{style:{display:t.isLogin?"":"none"}},[s("a",{staticClass:"menu",on:{click:t.setting}},[t._v("设置")])]),t._v(" "),s("DropdownItem",{style:{display:t.isLogin?"":"none"}},[s("a",{staticClass:"menu",on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{float:"left",margin:"0"}},[e("a",{staticClass:"head-title1"},[this._v("人工智能图像技术，轻松识别图片信息")])])}]};var g={name:"home",inject:["reload"],data:function(){return{userName:"lynn",userId:1,isLogin:!1,isCollapse:!0,navList:[{name:"/discernCenter",navItem:"识图中心"},{name:"/userAssess",navItem:"用户评价"},{name:"/aboutTeam",navItem:"开发团队"}]}},components:{Header:s("C7Lr")(m,f,!1,function(t){s("p5TG")},"data-v-4c2e3df1",null).exports},methods:{}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("Header"),t._v(" "),s("el-menu",{staticStyle:{height:"60px"},attrs:{"default-active":this.$router.path,router:"",mode:"horizontal"},on:{select:t.handleSelect}},t._l(t.navList,function(e,i){return s("el-menu-item",{key:i,attrs:{index:e.name}},[t._v("\n      "+t._s(e.navItem)+"\n    ")])}),1),t._v(" "),s("router-view")],1)},staticRenderFns:[]};var _=s("C7Lr")(g,v,!1,function(t){s("+uro")},null,null).exports,y={name:"discernCenter",data:function(){return{isCollapse:!0,navList:[{name:"/search",navItem:"数据爬虫",icon:"el-icon-s-opportunity"},{name:"/sign",navItem:"图像标记",icon:"el-icon-edit-outline"},{name:"/sort",navItem:"图像分类",icon:"el-icon-s-data"},{name:"/algorithm",navItem:"算法评估",icon:"el-icon-data-line"}]}},components:{},methods:{showMenu:function(){var t=this;setTimeout(function(){t.isCollapse?(t.isCollapse=!1,setTimeout(function(){t.isCollapse=!0},1800)):t.isCollapse=!0},200)},handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)}},created:function(){var t=this;setTimeout(function(){t.isCollapse=!1},60)}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"left-menu"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$router.path,router:"",collapse:t.isCollapse},on:{open:t.handleOpen,close:t.handleClose}},t._l(t.navList,function(e,i){return s("el-menu-item",{key:i,attrs:{index:e.name},on:{click:t.showMenu}},[s("i",{class:e.icon}),t._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.navItem))])])}),1)],1),t._v(" "),s("div",{staticClass:"right-content"},[s("router-view")],1)])},staticRenderFns:[]};var x=s("C7Lr")(y,C,!1,function(t){s("lb8U")},null,null).exports,I={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  用户评价\n")])},staticRenderFns:[]};var S=s("C7Lr")({name:"userAssess",data:function(){return{}},components:{},methods:{}},I,!1,function(t){s("VYG/")},null,null).exports,w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  关于团队\n")])},staticRenderFns:[]};var $=s("C7Lr")({name:"aboutTeam",data:function(){return{}},components:{},methods:{}},w,!1,function(t){s("6SFN")},null,null).exports,M={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  爬虫\n")])},staticRenderFns:[]};var N=s("C7Lr")({name:"search",data:function(){return{}},components:{},methods:{}},M,!1,function(t){s("Nnx0")},null,null).exports,k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  图像标记\n")])},staticRenderFns:[]};var L=s("C7Lr")({name:"sign",data:function(){return{}},components:{},methods:{}},k,!1,function(t){s("SWDw")},null,null).exports,b={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  图像分类\n")])},staticRenderFns:[]};var T=s("C7Lr")({name:"sort",data:function(){return{}},components:{},methods:{}},b,!1,function(t){s("Gvnp")},null,null).exports,F={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{attrs:{id:"app"}},[this._v("\n  算法评估\n")])},staticRenderFns:[]};var R=s("C7Lr")({name:"algorithm",data:function(){return{}},components:{},methods:{}},F,!1,function(t){s("8NWH")},null,null).exports;o.default.use(c.a);var E=new c.a({routes:[{path:"/",name:"login",component:h},{path:"/login",name:"login",component:h},{path:"/home",name:"home",component:_,redirect:"/discernCenter",children:[{path:"/discernCenter",component:x,redirect:"/search",children:[{path:"/search",component:N},{path:"/sign",component:L},{path:"/sort",component:T},{path:"/algorithm",component:R}]},{path:"/userAssess",component:S},{path:"/aboutTeam",component:$}]}]}),U=s("TBYr"),B=s.n(U),D=s("Muz9"),z=s.n(D),A=s("CtzY"),j=s.n(A),P=(s("lqy5"),s("NxjZ")),q=s.n(P),H=(s("zlkP"),s("2bvH"));o.default.use(H.a);var Y=new H.a.Store({state:{isLogin:!1,userName:"",userId:""},mutations:{setUserId:function(t,e){t.userId=e,sessionStorage.setItem("userId",e)}},actions:{},getters:{userId:function(t){return sessionStorage.getItem("userId")}}}),G=s("CFSk"),O=s.n(G);o.default.use(H.a),o.default.use(q.a),o.default.use(B.a),o.default.use(O.a),o.default.prototype.$axios=z.a,z.a.defaults.baseURL="http://localhost:8080",z.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",z.a.interceptors.request.use(function(t){return"post"===t.method&&(t.data=j.a.stringify(t.data)),t},function(t){return n.a.reject(t)}),z.a.interceptors.response.use(function(t){return t},function(t){return n.a.reject(t)}),o.default.config.productionTip=!1,new o.default({el:"#app",router:E,store:Y,components:{App:r},template:"<App/>"})},Nnx0:function(t,e){},SWDw:function(t,e){},"VYG/":function(t,e){},czpq:function(t,e,s){var i={"./back.png":"0YUB","./logo.png":"dLd/","./logo_title.png":"wiax","./portrait.png":"DXJi"};function n(t){return s(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id="czpq"},"dLd/":function(t,e,s){t.exports=s.p+"static/img/logo.31d0667.png"},f6YS:function(t,e){},lb8U:function(t,e){},lqy5:function(t,e){},p5TG:function(t,e){},wiax:function(t,e,s){t.exports=s.p+"static/img/logo_title.4deff80.png"},zlkP:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b0905d5343b65301135a.js.map